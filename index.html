<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Benim Undertale - Türkçe</title>
    <style>
        *{margin:0;padding:0;box-sizing:border-box;touch-action:none}
        body{background:#000;overflow:hidden;font-family:'Courier New',monospace;color:#fff}
        canvas{display:block;width:100vw;height:100vh;image-rendering:pixelated}
        #ui{position:absolute;top:10px;left:10px;z-index:100;background:#000c;padding:12px;border:3px solid #0f0;border-radius:12px;font-size:18px}
        #phone-btn{position:absolute;top:10px;right:10px;z-index:100;background:#000;color:#0f0;border:4px solid #0f0;padding:18px;border-radius:50%;font-size:32px;cursor:pointer;box-shadow:0 0 25px #0f0}
        #phone-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:#000f;z-index:999;display:none;flex-direction:column;padding:20px;color:#0f0}
        #phone-chat{flex:1;background:#111;border:3px solid #0f0;border-radius:12px;padding:15px}
        #chat-messages{flex:1;overflow-y:auto;background:#000;padding:15px;border-radius:10px;margin-bottom:10px}
        #chat-input{width:100%;padding:15px;background:#222;border:3px solid #0f0;color:#0f0;font-size:18px;border-radius:10px}
        #close-phone{margin-top:10px;background:#c00;color:#fff;padding:12px;border:none;border-radius:12px;font-size:20px}
    </style>
</head>
<body>
    <canvas id="c"></canvas>
    <div id="ui">HP: <span id="hp">20</span>/20 | BÖLGE: <span id="loc">Ruins</span></div>
    <button id="phone-btn">Telefon</button>
    <div id="phone-overlay">
        <h2>UNDERGROUND TELEFON</h2>
        <div id="phone-chat">
            <div id="chat-messages">
                * Sistem: Hoş geldin!<br>
                * Papyrus: NYEH HEH HEH!<br>
                * Sans: hey kiddo
            </div>
            <input id="chat-input" placeholder="Mesaj yaz... (Enter)">
        </div>
        <button id="close-phone">Kapat</button>
    </div>
    <script>
        const c=document.getElementById('c'),ctx=c.getContext('2d');
        c.width=innerWidth;c.height=innerHeight;
        let x=innerWidth/2,y=innerHeight/2,v=5,area=0;
        const areas=["Ruins","Snowdin","Waterfall","Hotland","Core","New Home"];
        const colors=["#440044","#003366","#006633","#660000","#330033","#000"];
        let msgs=["* Papyrus: NYEH HEH HEH!","* Sans: heh. selam","* Toriel: Dikkat et evladım ❤️"];
        const isim=prompt("Adın ne?","Chara")||"Chara";
        document.getElementById('phone-btn').onclick=()=>{document.getElementById('phone-overlay').style.display='flex';document.getElementById('chat-messages').innerHTML=msgs.join('<br>')};
        document.getElementById('close-phone').onclick=()=>{document.getElementById('phone-overlay').style.display='none'};
        document.getElementById('chat-input').onkeydown=e=>{if(e.key=="Enter"&&e.target.value){msgs.push(isim+": "+e.target.value);e.target.value="";document.getElementById('chat-messages').innerHTML=msgs.join('<br>')}};
        function loop(){
            ctx.fillStyle=colors[area];ctx.fillRect(0,0,c.width,c.height);
            let dx=0,dy=0;
            onkeydown=onkeyup=e=>{"ArrowLeft ArrowRight ArrowUp ArrowDown".includes(e.key)&&([dx,dy][["Left","Right","Up","Down"].indexOf(e.key.slice(5))%2]=v*(e.type[5]*2-9))};
            x+=dx;y+=dy;
            x=Math.max(40,Math.min(c.width-40,x));
            y=Math.max(40,Math.min(c.height-40,y));
            if(x>c.width-80){area=(area+1)%6;x=80}
            document.getElementById('loc').textContent=areas[area];
            ctx.fillStyle="#8B4513";ctx.fillRect(x-12,y-20,24,40);
            ctx.fillStyle="#FFDBAC";ctx.fillRect(x-8,y-28,16,16);
            requestAnimationFrame(loop);
        }
        loop();
    </script>
</body>
</html>
